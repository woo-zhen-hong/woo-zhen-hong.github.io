(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"525a":function(e,t,s){},"80e5":function(e,t,s){"use strict";s("525a")},e00c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"flex flex-center"},[t("q-table",{attrs:{title:"紀錄",data:e.props,columns:e.columns,"row-key":"name","binary-state-sort":""},scopedSlots:e._u([{key:"body",fn:function(s){return[s.row.isDeleted?e._e():t("q-tr",{attrs:{props:s}},[t("q-td",{key:"isDeleted",attrs:{props:s}},[s.row.isDeleted?e._e():t("q-chip",{attrs:{clickable:"",square:"",size:"md",color:"primary","text-color":"white"},on:{click:function(t){return e.deleted(s.row)}}},[e._v("\n            刪除\n          ")])],1),t("q-td",{key:"name",attrs:{props:s}},[e._v(e._s(s.row.name)+"\n        ")]),t("q-td",{key:"expDate",attrs:{props:s}},[e._v("\n          "+e._s(s.row.expDate)+"\n        ")])],1)]}}])}),t("br"),t("br"),t("router-link",{attrs:{to:{name:"home"}}},[t("q-chip",{staticClass:"active"},[e._v("\n      回上一頁\n    ")])],1)],1)},n=[],o=(s("14d9"),s("fc1b")),r={name:"Home",data(){return{props:[],columns:[{name:"isDeleted",classes:"bg-red text-white ellipsis",headerClasses:"bg-primary text-white",label:"操作",align:"center"},{name:"name",classes:"bg-red text-white ellipsis",headerClasses:"bg-primary text-white",label:"名稱",align:"center"},{name:"expDate",classes:"bg-red text-white ellipsis",headerClasses:"bg-primary text-white",sortable:!0,label:"到期日",align:"center"}]}},methods:{async showList(){try{this._dbVmActoionListener=await o["b"].collection("record").onSnapshot((async e=>{let t=[];for(let s=0,a=e.docs.length;s<a;s+=1){const a=e.docs[s].data();a.id=e.docs[s].id,t.push(a)}this.props=t}))}catch(e){console.log(e)}},async deleted(e){const t=e.id;try{await o["b"].collection("record").doc(t).set({isDeleted:1},{merge:!0}),this.$q.notify({color:"positive",icon:"check_circle",message:"資料存檔成功"})}catch(s){console.log(s),this.$q.notify({title:"警告",type:"warning",message:"資料存檔失敗"})}}},mounted(){this.showList()}},i=r,l=(s("80e5"),s("2877")),c=s("9989"),d=s("eaac"),p=s("bd08"),h=s("db86"),b=s("b047"),m=s("eebe"),u=s.n(m),w=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=w.exports;u()(w,"components",{QPage:c["a"],QTable:d["a"],QTr:p["a"],QTd:h["a"],QChip:b["a"]})}}]);